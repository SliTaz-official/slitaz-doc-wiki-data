======Не удается войти на рабочий стол======


=====Симптомы=====

  * Slim, менеджер входа SliTaz Login Manager, завершается с сообщением:
<file>failed to execute login command</file>
(не удалось выполнить команду входа)


=====Объяснение=====

Это происходит, когда файлы в домашней папке пользователя настроены неверно. Следующие файлы должны присутствовать (это можно проверить при помощи команды ''ls -la''):
  * .Xdefaults
  * .xinitrc
  * возможно, что-то еще?


=====Решение=====

Вы должны скопировать файлы из папки ///etc/skel//, которая является шаблоном домашних папок любого нового пользователя. Это действие выполняется автоматически, когда новый пользователь создается при помощи Панели управления SliTaz, но не выполняется при использовании утилит в командной строке. Иногда пользователи могут удалить или изменить (испортить) эти файлы.

Переключитесь на (супер)пользователя root:

<code>su root</code>

Перейдите в требуемую домашнюю папку:

<code>cd /home/ПОЛЬЗОВАТЕЛЬ</code>

Установите опции оболочки таким образом, чтобы разрешить включать точку (.) в имя файла:

<code>shopt -s dotglob</code>

Рекурсивно скопируйте все файлы:

<code>cp -r /etc/skel/* /home/ПОЛЬЗОВАТЕЛЬ</code>

Смените владельца всех файлов и папок в домашней папке пользователя на этого пользователя:

<code>chown -R ПОЛЬЗОВАТЕЛЬ:ГРУППА /home/ПОЛЬЗОВАТЕЛЬ/*</code>

Восстановите опции оболочки:

<code>shopt -u dotglob</code>

Теперь важные файлы должны быть восстановлены!

<note>
<code>shopt -u dotglob</code>
не работает в slitaz-3.0.iso — вместо этой команды выполните дополнительно следующее:
<code>chown -R ПОЛЬЗОВАТЕЛЬ:ГРУППА /home/ПОЛЬЗОВАТЕЛЬ/.[a-zA-Z0-9]*</code>
</note>
