======Пакеты======


=====Tazpkg — менеджер пакетов=====

SliTaz имеет в своем составе небольшой, но вполне удобный менеджер пакетов, который позволяет без труда устанавливать дополнительное програмное обеспечение. Пакеты для утилиты Tazpkg имеют формат .tazpkg. Являясь полностью скриптовым, он хорошо совместим с Busybox ash shell и bash. Tazpkg позволяет просматривать, устанавливать, удалять, загружать, обновлять, искать или получать информацию об имеющихся или уже установленных пакетах. Вы также можете упаковать и автоматически обновить установленные пакеты. Введите //tazpkg// в терминале SliTaz чтобы получить полный список доступных команд с их описанием на английском языке.


===Список пакетов===

Tazpkg позволяет получить обычный список всех установленных пакетов, пакетов по категориям или список доступных пакетов в зеркале обновлений. Для отображения единого списка всех установленных пакетов в системе, введите:

<code>$ tazpkg list</code>

Для отображения всех категорий или пакетов, отсортированных по категориям, укажите параметр cat или какую-либо одну категорию. Примеры:

<code>
$ tazpkg list cat
$ tazpkg list base-system
</code>

Tazpkg также может создать в домашней папке список (в формате xHTML) всех установленных пакетов (по умолчанию: installed-packages.html):

<code>$ tazpkg xhtml-list</code>

Чтобы получить единый список всех доступных пакетов в зеркале, можно использовать команду //list-mirror//. Этот список легко просмотреть в любимом редакторе или с использованием веб-интерфейса сайта.


===Установка пакетов===

Для установки новых приложений, таких как Gimp, AbiWord, ePDFView, Perl или Python, необходимо сначала обновить список доступных пакетов в зеркале, а затем уже их установить. Если пакеты зависимостей не установлены, Tazpkg установит их для вас автоматически. Например, установка Gparted — редактора разделов для GTK+ выглядит так:

<code>
# tazpkg recharge
# tazpkg get-install gparted
</code>


===Пакеты с префиксом "get-"===

Существуют пакеты, имена которых начинаются с префикса //get-//. Они не являются пакетами в обычном смысле слова, так как содержат только специальный сценарий. Данный сценарий предусматривает следующий алгоритм установки:

  * скачивание программы;
  * создание файла //.tazpkg// из скачанной программы;
  * установки пакета утилитой Tazpkg.

Это означает, что актуальные версии программ не включены в //get-//пакеты, но их всегда можно получить с их помощью.

С помощью get-пакетов вы можете:

  * установить самую свежую версию программы через скрипт из //get-//пакета;
  * удалить установленную прорамму, используя **сгенерированный** пакет.

<note tip>Обратите внимание, что после скачивания //get-//пакета вам необходимо самостоятельно запустить его скрипт, который имеет такое же название, как и пакет. Это можно сделать либо двумя похожими способами, вот пример для //get-OpenOffice3//:
<code># tazpkg get-install get-OpenOffice3
# get-OpenOffice3</code>
или одной строкой
<code># tazpkg get-install get-OpenOffice3 && get-OpenOffice3</code>
</note>


===Обновление установленных пакетов===

Чтобы поддерживать свою систему в актуальном состоянии, вы можете автоматически устанавливать новые версии програмного обеспечения и обновления безопасности через зеркало обновлений. Для этого воспользуйтесь командой:

<code># tazpkg upgrade</code>


===Руководство Tazpkg===

Полное [[http://hg.slitaz.org/tazpkg/raw-file/tip/doc/tazpkg.en.html|руководство по Tazpkg]] (пока на английском) содержит гораздо больше полезной информации.


===Tazwok и wok===

Все пакеты для SliTaz собираются с помощью утилиты Tazwok и специальных рецептов. Рецепты предоставляет всю необходимую информацию для создания пакета для Tazpkg. С этой целью используются переменные, задающие имя пакета, формат архива с исходными кодами, URL для скачивания и т.д. Имея рецепт, специальная функция //compile_rules// получает все необходимые команды для настройки и установки пакета в зданный каталог. После компиляции Tazwok выполнит еще одну функцию — //genpkg_rules//, чтобы получить только необходимые файлы и создать //pkg.tazpkg// (CPIO архив). Все рецепты установленных пакетов вы можете найти по адресу: ///var/lib/tazpkg/installed//, их можно изучить и использовать в качестве примера.

По умолчанию, Tazwok будет искать рецепты в папке ///home/slitaz/wok//, а готовые пакеты будут сохранены в ///home/slitaz/packages//. Эти пути определяются файлом конфигурации Tazwok (///etc/tazwok.conf//). Итак, если все необходимые инструменты установлены, вы можете приступить к созданию пакетов, не требующих много зависимостей. Пример:

<code># tazwok new-tree pkgname --interactive</code>

Когда дерево пакетов и рецепт создан в wok, вы можете этот самый рецепт отредактировать в своем любимом редакторе, изменяйте правила, функции, добавляйте необходимые зависимости. Пакет создается командой:

<code># tazwok cook pkgname</code>

Обратите внимание, вы можете просмотреть созданные файлы, изменять рецепты, или просто восстановить пакет с //tazwok genpkg//. Если вы довольны вашей работой, то сразу можете установить пакет через tazpkg и протестировать свое приложение или библиотеку. 

----
Статью перевел [[http://forum.slitaz.org/index.php/profile/1300/Onion|Onion]]
